import{J as p,Jc as O,K as l,O as c,P as u,Q as g,S,ba as v,ga as D,h as y,ka as F,la as b,mb as w,ta as o,va as E,wa as I}from"./chunk-AMQEPWGX.js";var a=function(e){return e[e.State=0]="State",e[e.Transition=1]="Transition",e[e.Sequence=2]="Sequence",e[e.Group=3]="Group",e[e.Animate=4]="Animate",e[e.Keyframes=5]="Keyframes",e[e.Style=6]="Style",e[e.Trigger=7]="Trigger",e[e.Reference=8]="Reference",e[e.AnimateChild=9]="AnimateChild",e[e.AnimateRef=10]="AnimateRef",e[e.Query=11]="Query",e[e.Stagger=12]="Stagger",e}(a||{}),Q="*";function j(e,t=null){return{type:a.Animate,styles:t,timings:e}}function q(e,t=null){return{type:a.Sequence,steps:e,options:t}}function x(e){return{type:a.Style,styles:e,offset:null}}var m=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275prov=l({token:e,factory:()=>u(B),providedIn:"root"})}}return e})(),d=class{},B=(()=>{class e extends m{constructor(s,i){super(),this.animationModuleType=u(b,{optional:!0}),this._nextAnimationId=0;let n={id:"0",encapsulation:g.None,styles:[],data:{animation:[]}};if(this._renderer=s.createRenderer(i.body,n),this.animationModuleType===null&&!V(this._renderer))throw new p(3600,!1)}build(s){let i=this._nextAnimationId;this._nextAnimationId++;let n=Array.isArray(s)?q(s):s;return k(this._renderer,null,i,"register",[n]),new f(i,this._renderer)}static{this.\u0275fac=function(i){return new(i||e)(c(E),c(w))}}static{this.\u0275prov=l({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),f=class extends d{constructor(t,s){super(),this._id=t,this._renderer=s}create(t,s){return new _(this._id,t,s||{},this._renderer)}},_=class{constructor(t,s,i,n){this.id=t,this.element=s,this._renderer=n,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}_listen(t,s){return this._renderer.listen(this.element,`@@${this.id}:${t}`,s)}_command(t,...s){k(this._renderer,this.element,this.id,t,s)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){return L(this._renderer)?.engine?.players[this.id]?.getPosition()??0}};function k(e,t,s,i,n){e.setProperty(t,`@@${s}:${i}`,n)}function L(e){let t=e.\u0275type;return t===0?e:t===1?e.animationRenderer:null}function V(e){let t=e.\u0275type;return t===0||t===1}var P=class{constructor(t=0,s=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+s}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let s=t=="start"?this._onStartFns:this._onDoneFns;s.forEach(i=>i()),s.length=0}},R=class{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let s=0,i=0,n=0,h=this.players.length;h==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(r=>{r.onDone(()=>{++s==h&&this._onFinish()}),r.onDestroy(()=>{++i==h&&this._onDestroy()}),r.onStart(()=>{++n==h&&this._onStart()})}),this.totalTime=this.players.reduce((r,C)=>Math.max(r,C.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let s=t*this.totalTime;this.players.forEach(i=>{let n=i.totalTime?Math.min(1,s/i.totalTime):1;i.setPosition(n)})}getPosition(){let t=this.players.reduce((s,i)=>s===null||i.totalTime>s.totalTime?i:s,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let s=t=="start"?this._onStartFns:this._onDoneFns;s.forEach(i=>i()),s.length=0}},U="!";var A=class e{constructor(t,s,i,n){this._element=t;this._renderer=s;this._builder=i;this.platformId=n}hideStyles={opacity:"0",transform:"translateY(20px)"};showStyles={opacity:"1",transform:"translateY(0)"};duration=500;delay=0;easing="ease-in-out";threshold=.6;rootMargin="0px";intersection=new v;animation;_observer;_intersect$=new y;ngOnInit(){O(this.platformId)&&(this.setHideStyles(),this.createObserver(),this.createAnimation(),this.startObserving())}ngAfterViewInit(){this._intersect$.subscribe(()=>{let t=this._element.nativeElement;this.animation.play(),this.intersection.emit(this._element.nativeElement),this._observer?.unobserve(t)})}createObserver(){let t={root:null,rootMargin:this.rootMargin,threshold:this.threshold};typeof window!=null&&(this._observer=new IntersectionObserver((s,i)=>{s.forEach(n=>{n.isIntersecting&&n.intersectionRatio>=this.threshold&&this._intersect$.next()})},t))}setHideStyles(){for(let t of Object.keys(this.hideStyles))this._renderer.setStyle(this._element.nativeElement,t,this.hideStyles[t])}createAnimation(){let t=this._builder.build([j(`${this.duration}ms ${this.delay}ms ${this.easing}`.trim(),x(this.showStyles))]);this.animation=t.create(this._element.nativeElement)}startObserving(){this._observer?.observe(this._element.nativeElement)}ngOnDestroy(){this._observer&&(this._observer.disconnect(),this._observer=null),this._intersect$.complete()}static \u0275fac=function(s){return new(s||e)(o(D),o(I),o(m),o(F))};static \u0275dir=S({type:e,selectors:[["","observeVisibility",""]],inputs:{hideStyles:[0,"hide","hideStyles"],showStyles:[0,"show","showStyles"],duration:"duration",delay:"delay",easing:"easing",threshold:"threshold",rootMargin:"rootMargin"},outputs:{intersection:"intersection"},standalone:!0})};export{a,Q as b,q as c,x as d,P as e,R as f,U as g,A as h};
/**i18n:a8081f312a1a86c74d5a158ac3d65e32dfd4767a399297ef9b228cd77648c21c*/
